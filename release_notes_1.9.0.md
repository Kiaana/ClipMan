# ClipMan v1.9.0 更新日志

> 本次更新专注于性能优化和实时交互改进，显著提升了剪贴板管理的流畅度和准确性。

## 🚀 改进与优化

### 性能提升

- **剪贴板事件传输优化**：后端现在发送 Base64 编码数据而非原始字节数组。
    - 大幅减少 JSON 序列化开销，尤其是在处理图片等大型数据时。
    - 前端无需再进行耗时的 `btoa` 转换，显著降低主线程阻塞。

### 用户体验 (UX)

- **历史列表排序优化**：历史记录页面现在严格按时间倒序排列，不再强制将置顶项置顶。
    - 置顶项依然可在"置顶"标签页中快速访问。
    - 确保最新复制的内容总是出现在列表顶部，符合直觉。

- **实时更新准确性**：
    - **去重机制实时生效**：复制已存在的内容时，该项会即时移至列表顶部，不再产生重复条目。
    - **历史数量限制实时执行**：当列表超过预设上限时，最早的非置顶项会立即被移除，无需刷新页面。

## 🔧 内部 / 技术变更

- 重构了后端 `storage.rs` 的去重逻辑，通过更新时间戳并返回现有 ID 实现智能去重。
- 优化了前端 `clipboard.svelte.ts` 的事件处理，增加了历史数量限制的实时校验。
- 移除了冗余的数据转换逻辑，简化了前后端通信流程。

---

**完整更新记录**: https://github.com/Kiaana/ClipMan/compare/v1.8.2...v1.9.0
